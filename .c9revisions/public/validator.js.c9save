{"ts":1360003213173,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"(function ($) {\n\t\"use strict\";\n\n\tvar namespace = '.validator',\n\t\tdefaults = {\n\t\t\tevents                  : null,\n\t\t\tselector                : null,\n\t\t\tvalidationAttribute     : 'validations',\n\t\t\tpreventDefault          : false,\n\t\t\tpreventDefaultIfInvalid : false,\n\t\t\tcallback                : function (elem, valid) {\n\t\t\t\t//\n\t\t\t},\n\t\t\tdone                    : function (valid) {\n\t\t\t\t//\n\t\t\t}\n\t\t},\n\t\tvalidations = {\n\n\t\t\tparseRules : function (rules) {\n\n\t\t\t\tvar validations = [],\n\t\t\t\t\trule;\n\n\t\t\t\t$.each(rules.split(\"|\"), function (idx, value) {\n\n\t\t\t\t\trule = value.split(\":\");\n\t\t\t\t\tvalidations.push({\n\t\t\t\t\t\tmethod : \"validate_\" + rule[0],\n\t\t\t\t\t\tparams : rule[1] ? rule[1].split(\",\") : []\n\t\t\t\t\t});\n\n\t\t\t\t});\n\n\t\t\t\treturn validations;\n\n\t\t\t},\n\n\t\t\tvalidate : function (selector, attribute, callback) {\n\n\t\t\t\tvar allValid = true;\n\n\t\t\t\t$(selector).each(function () {\n\n\t\t\t\t\tvar validation_rules = $(this).data(attribute),\n\t\t\t\t\t\tname  = $(this).attr(\"name\"),\n\t\t\t\t\t\tvalue = $(this).val(),\n\t\t\t\t\t\trules = [],\n\t\t\t\t\t\tvalid = true;\n\n\t\t\t\t\tif (!validation_rules) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\trules = validations.parseRules(validation_rules);\n\n\t\t\t\t\t$.each(rules, function (idx, rule) {\n\n\t\t\t\t\t\tif (!validations.validatable(rule, name, value)) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvalid = valid && (validations[rule.method] ?\n\t\t\t\t\t\t\t\tvalidations[rule.method](name, value, rule.params) :\n\t\t\t\t\t\t\t\tfalse);\n\n\t\t\t\t\t});\n\n\t\t\t\t\tcallback(this, valid);\n\n\t\t\t\t\tallValid = allValid && valid;\n\n\t\t\t\t});\n\n\t\t\t\treturn allValid;\n\n\t\t\t},\n\n\t\t\tvalidatable : function (rule, attribute, value) {\n\n\t\t\t\treturn this.validate_required(attribute, value) ||\n\t\t\t\t\tthis.implicit(rule);\n\n\t\t\t},\n\n\t\t\timplicit : function (rule) {\n\n\t\t\t\treturn rule.method === \"validate_required\" ||\n\t\t\t\t\trule.method === \"validate_required_with\" ||\n\t\t\t\t\trule.method === \"validate_accepted\";\n\n\t\t\t},\n\n\t\t\tsize : function (attribute, value) {\n\n\t\t\t\tif (this.validate_numeric(attribute, value)) {\n\t\t\t\t\treturn parseFloat(value);\n\t\t\t\t}\n\n\t\t\t\treturn value.length;\n\t\t\t},\n\n\t\t\tvalidate_match : function (attribute, value, parameters) {\n\n\t\t\t\tif (!(parameters instanceof Array)) {\n\t\t\t\t\tparameters = [ parameters ];\n\t\t\t\t}\n\n\t\t\t\tvar re = parameters[0];\n\n\t\t\t\tif (!(re instanceof RegExp)) {\n\t\t\t\t\tre = re.replace(/\\/?([^\\/]*)\\/?/, \"$1\");\n\t\t\t\t\tre = new RegExp(re);\n\t\t\t\t}\n\n\t\t\t\treturn value.match(re) !== null;\n\n\t\t\t},\n\n\t\t\tvalidate_regex : function (attribute, value, parameters) {\n\n\t\t\t\treturn this.validate_match(attribute, value, parameters);\n\n\t\t\t},\n\n\t\t\tvalidate_required : function (attribute, value) {\n\n\t\t\t\tif ($(\"[name=\" + attribute + \"]\").first().is(':radio')) {\n\t\t\t\t\treturn $(\"[name=\" + attribute + \"]:checked\").val() !== undefined;\n\t\t\t\t}\n\n\t\t\t\treturn this.validate_match(attribute, value, /[^\\s]+/);\n\n\t\t\t},\n\n\t\t\tvalidate_required_with : function (attribute, value, parameters) {\n\n\t\t\t\tif (this.validate_required(parameters[0], $(\"[name=\" + parameters[0] + \"]\").val())) {\n\t\t\t\t\treturn this.validate_required(attribute, value);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\n\t\t\t},\n\n\t\t\tvalidate_confirmed : function (attribute, value) {\n\n\t\t\t\treturn this.validate_same(attribute, value, [ attribute + \"_confirmation\" ]);\n\n\t\t\t},\n\n\t\t\tvalidate_accepted : function (attribute, value) {\n\n\t\t\t\treturn this.validate_match(attribute, value, /^(yes|1)$/) ||\n\t\t\t\t\t$(\"[name=\" + attribute + \"]\").is(\":checked\");\n\n\t\t\t},\n\n\t\t\tvalidate_same : function (attribute, value, parameters) {\n\n\t\t\t\treturn value === $(\"[name=\" + parameters[0] + \"]\").val();\n\n\t\t\t},\n\n\t\t\tvalidate_different : function (attribute, value, parameters) {\n\n\t\t\t\treturn value !== $(\"[name=\" + parameters[0] + \"]\").val();\n\n\t\t\t},\n\n\t\t\tvalidate_numeric : function (attribute, value) {\n\n\t\t\t\treturn this.validate_match(attribute, value, /^\\d+(\\.\\d*)?$/);\n\n\t\t\t},\n\n\t\t\tvalidate_integer : function (attribute, value) {\n\n\t\t\t\treturn this.validate_match(attribute, value, /^\\d+$/);\n\n\t\t\t},\n\n\t\t\tvalidate_size : function (attribute, value, parameters) {\n\n\t\t\t\treturn this.size(attribute, value) === parseFloat(parameters[0]);\n\n\t\t\t},\n\n\t\t\tvalidate_between : function (attribute, value, parameters) {\n\n\t\t\t\tvar size = this.size(attribute, value);\n\n\t\t\t\treturn size >= parseFloat(parameters[0]) && size <= parseFloat(parameters[1]);\n\n\t\t\t},\n\n\t\t\tvalidate_min : function (attribute, value, parameters) {\n\n\t\t\t\treturn this.size(attribute, value) >= parseFloat(parameters[0]);\n\n\t\t\t},\n\n\t\t\tvalidate_max : function (attribute, value, parameters) {\n\n\t\t\t\treturn this.size(attribute, value) <= parseFloat(parameters[0]);\n\n\t\t\t},\n\n\t\t\tvalidate_in : function (attribute, value, parameters) {\n\n\t\t\t\treturn $.inArray(value, parameters) >= 0;\n\n\t\t\t},\n\n\t\t\tvalidate_not_in : function (attribute, value, parameters) {\n\n\t\t\t\treturn $.inArray(value, parameters) < 0;\n\n\t\t\t},\n\n\t\t\tvalidate_unique : function (attribute, value, parameters) {\n\n\t\t\t\treturn true;\n\n\t\t\t},\n\n\t\t\tvalidate_exists : function (attribute, value, parameters) {\n\n\t\t\t\treturn true;\n\n\t\t\t},\n\n\t\t\tvalidate_ip : function (attribute, value) {\n\n\t\t\t\tvar segments = value.split(\".\");\n\n\t\t\t\tif (segments.length === 4 &&\n\t\t\t\t\t\tthis.validate_between(attribute, segments[0], [ 1, 255 ]) &&\n\t\t\t\t\t\tthis.validate_between(attribute, segments[1], [ 0, 255 ]) &&\n\t\t\t\t\t\tthis.validate_between(attribute, segments[2], [ 0, 255 ]) &&\n\t\t\t\t\t\tthis.validate_between(attribute, segments[3], [ 1, 255 ])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t},\n\n\t\t\tvalidate_email : function (attribute, value) {\n\n\t\t\t\treturn this.validate_match(attribute, value, /^[A-Z0-9._%+\\-]+@[A-Z0-9.\\-]+\\.[A-Z]{2,4}$/i);\n\n\t\t\t},\n\n\t\t\tvalidate_url : function (attribute, value) {\n\n\t\t\t\treturn this.validate_match(attribute, value, /^(https?|ftp):\\/\\/[^\\s\\/$.?#].[^\\s]*$/i);\n\n\t\t\t},\n\n\t\t\tvalidate_active_url : function (attribute, value) {\n\n\t\t\t\treturn this.validate_url(attribute, value);\n\n\t\t\t},\n\n\t\t\tvalidate_image : function (attribute, value, parameters) {\n\n\t\t\t\treturn this.validate_mimes(attribute, value, [ 'jpg', 'png', 'gif', 'bmp' ]);\n\n\t\t\t},\n\n\t\t\tvalidate_alpha : function (attribute, value, parameters) {\n\n\t\t\t\treturn this.validate_match(attribute, value, /^([a-z])+$/i);\n\n\t\t\t},\n\n\t\t\tvalidate_alpha_num : function (attribute, value, parameters) {\n\n\t\t\t\treturn this.validate_match(attribute, value, /^([a-z0-9])+$/i);\n\n\t\t\t},\n\n\t\t\tvalidate_alpha_dash : function (attribute, value, parameters) {\n\n\t\t\t\treturn this.validate_match(attribute, value, /^([a-z0-9_\\-])+$/i);\n\n\t\t\t},\n\n\t\t\tvalidate_mimes : function (attribute, value, parameters) {\n\n\t\t\t\tvar i, re;\n\t\t\t\tfor (i = 0; i < parameters.length; i++) {\n\t\t\t\t\tre = new RegExp('\\\\.' + parameters[i] + '$');\n\n\t\t\t\t\tif (this.validate_match(attribute, value, re)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t},\n\n\t\t\tvalidate_before : function (attribute, value, parameters) {\n\n\t\t\t\treturn (Date.parse(value) < Date.parse(parameters[0]));\n\n\t\t\t},\n\n\t\t\tvalidate_after : function (attribute, value, parameters) {\n\n\t\t\t\treturn (Date.parse(value) > Date.parse(parameters[0]));\n\n\t\t\t}\n\n\t\t},\n\t\tmethods = {\n\t\t\tmake : function (options) {\n\n\t\t\t\tif (options === 'undefined') {\n\t\t\t\t\t$.error('jQuery' + namespace + ' may not be intialized without options.');\n\t\t\t\t}\n\n\t\t\t\toptions = $.extend({}, defaults, options);\n\t\t\t\toptions.events = options.events.replace(/(\\w+)/g, \"$1\" + namespace + \" \");\n\n\t\t\t\tthis.each(function () {\n\n\t\t\t\t\t$(this).on(options.events, function (evt) {\n\n\t\t\t\t\t\tvar valid = validations.validate(options.selector || this, options.validationAttribute, options.callback);\n\t\t\t\t\t\tif ((!valid && options.preventDefaultIfInvalid) || options.preventDefault) {\n\t\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (options.done) {\n\t\t\t\t\t\t\toptions.done(valid);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\n\t\t\t\t});\n\n\t\t\t\treturn this;\n\n\t\t\t},\n\t\t\tdestroy : function () {\n\n\t\t\t\tthis.each(function () {\n\n\t\t\t\t\t$(this).off(namespace);\n\n\t\t\t\t});\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t};\n\n\t$.fn.validator = function (method) {\n\n\t\tif (methods[method]) {\n\t\t\treturn methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t} else if (typeof method === 'object' || !method) {\n\t\t\treturn methods.make.apply(this, arguments);\n\t\t} else {\n\t\t\t$.error('Method ' + method + ' does not exist on jQuery' + namespace);\n\t\t}\n\n\t\treturn this;\n\t};\n\n}(jQuery));"]],"start1":0,"start2":0,"length1":0,"length2":8022}]],"length":8022}
{"contributors":[],"silentsave":false,"ts":1360003224708,"patch":[[{"diffs":[[0,"is)."],[-1,"data("],[1,"attr(\"data-\" + "],[0,"attr"]],"start1":887,"start2":887,"length1":13,"length2":23}]],"length":8032,"saved":false}
{"ts":1360003630925,"patch":[[{"diffs":[[0,"is)."],[-1,"attr(\"data-\" + "],[1,"data("],[0,"attr"]],"start1":887,"start2":887,"length1":23,"length2":13}]],"length":8022,"saved":false}
{"contributors":[],"silentsave":false,"ts":1360166600225,"patch":[[{"diffs":[[0,"alue, /^"],[1,"-?"],[0,"\\d+$/);\n"]],"start1":3775,"start2":3775,"length1":16,"length2":18}]],"length":8024,"saved":false}
{"ts":1360166698488,"patch":[[{"diffs":[[0,"alue, /^"],[1,"-?"],[0,"\\d+(\\.\\d"]],"start1":3647,"start2":3647,"length1":16,"length2":18}]],"length":8026,"saved":false}
